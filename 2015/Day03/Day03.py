print(*(lambda data: ((lambda data: (len(set((lambda data: (data.count("^")-data.count("v"), data.count(">")-data.count("<")))(data[:i+1]) for i in range(len(data))) | {(0, 0),})))(data), (lambda data: len(set(inner for i in range(len(data)) for inner in map(lambda data: (data.count("^")-data.count("v"), data.count(">")-data.count("<")), (data[::2][:i+1], data[1::2][:i+1]))) | {(0, 0)}))(data)))((open("Day03.txt").read())), sep = "\n")
