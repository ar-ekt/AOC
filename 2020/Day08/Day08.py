print(*(lambda instructions: ((lambda rec: lambda par1, par2, par3, par4: rec(rec, par1, par2, par3, par4))(lambda part1, instructions, seen, i, c: c if (i >= len(instructions) or i in seen) else part1(part1, instructions, seen + [i], i + {"jmp": instructions[i][1], "acc": 1, "nop": 1}[instructions[i][0]], c + instructions[i][1] if instructions[i][0] == "acc" else c))(instructions, [], 0, 0), (lambda rec: lambda par1, par2, par3: rec(rec, par1, par2, par3))(lambda part2, instructions_ori, instructions_temp, j: (lambda inner_result: inner_result if inner_result != -1 else part2(part2, instructions_ori, [[{"jmp": "nop", "nop": "jmp", "acc": "acc"}[instructions_ori[i][0]], instructions_ori[i][1]] if i == j+1 else instructions_ori[i][:] for i in range(len(instructions_ori))], j+1))((lambda rec: lambda par1, par2, par3, par4: rec(rec, par1, par2, par3, par4))(lambda part2_inner, instructions, seen, i, c: c if i >= len(instructions) else (-1 if i in seen else part2_inner(part2_inner, instructions, seen + [i], i + {"jmp": instructions[i][1], "acc": 1, "nop": 1}[instructions[i][0]], c + instructions[i][1] if instructions[i][0] == "acc" else c)))(instructions_temp, [], 0, 0)))(instructions, instructions, -1)))(list(map(lambda instruction: (lambda instruction: [instruction[0], int(instruction[1])])(instruction.split()), open("Day08.txt").read().split("\n")))), sep = "\n")
