print(*(lambda data: map(lambda turns: (lambda rec: lambda p1, p2, p3, p4: rec(rec, p1, p2, p3, p4))(lambda memory, i, turns, dext, last: last if i == turns else memory(memory, i+1, turns, {**dext, last: i}, i - dext[last] if last in dext else 0))(len(data), turns, {num: i+1 for i, num in enumerate(data[:-1])}, data[-1]), (2020, 30000000)))(list(map(int, open("Day15.txt").read().split(",")))), sep = "\n") # Recommend not to run the program