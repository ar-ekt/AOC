print(*(lambda rucksacks, reduce: (sum(map(lambda rucksack: (lambda half: (ord(set(rucksack[:half]).intersection(set(rucksack[half:])).pop()) - ord('a') + 1) % 58)(divmod(len(rucksack), 2)[0]), rucksacks)), sum((ord(reduce(lambda x, y: set(x).intersection(set(y)), rucksacks[start:start+3]).pop()) - ord('a') + 1) % 58 for start in range(0, len(rucksacks), 3))))(open('Day03.txt').read().splitlines(), __import__('functools').reduce), sep='\n')
